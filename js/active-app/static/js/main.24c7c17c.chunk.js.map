{"version":3,"sources":["components/shake-barrage/index.tsx","components/shake-content/index.tsx","components/shake-model/index.tsx","components/shake-log/index.tsx","components/shake-totas/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["barrageBox","useRef","useEffect","timer","mock","length","data","len","current","setInterval","style","isend","loopBarrage","clearInterval","id","img","name","prize","className","ref","map","i","key","time","onChange","useState","loading","setloading","disabled","setdisabled","result","setResult","_onStart","a","Promise","resolve","reject","setTimeout","random","Math","ceil","onClick","tips","type","onModelGet","visibale","setvisibale","hasQQ","match","hasPencil","onAdd","onGet","prizes","setPrizes","newPrizes","JSON","parse","localStorage","getItem","some","formatType","formatTime","rules","index","content","typeStr","timeNum","dateObj","Date","year","getFullYear","month","getMonth","toString","day","getDate","h","getHours","m","getMinutes","s","getSeconds","replace","text","delay","onClose","setVisibale","clearTimeout","App","modelData","setmodelData","totasText","settotasText","setTime","newTime","_get","Object","create","push","now","setItem","stringify","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.24c7c17c.chunk.js","sourcesContent":["import React, { useEffect, useRef } from 'react';\n\nimport './index.css'\n\ninterface Ibarrage {\n  id: string;\n  img: string;\n  name: string;\n  prize: string;\n}\n\nexport default () => {\n  const barrageBox = useRef<any>(null);\n\n  useEffect(() => {\n    let timer: NodeJS.Timeout;\n    const loopBarrage = (data: Ibarrage[]) => {\n      const len = data.length;\n      let current = 0;\n      timer = setInterval(() => {\n        if(barrageBox.current) {\n          barrageBox.current.style = `\n            transition: all 0.8s ease-in-out;\n            transform: translateY(-${100/3*current}%)\n          `\n        }\n        const isend = current >= len;\n        current = isend ? 0 : current + 1;\n        if(isend){\n          barrageBox.current.style = `\n            transform: translateY(0)\n          `\n        }\n      }, 3000)\n    }\n\n    if(mock.length > 1) {\n      loopBarrage(mock)\n    }\n\n    return () => {\n      if(timer) clearInterval(timer);\n    }\n  }, [])\n\n  const mock:Ibarrage[]  = [\n    { id: '0', img: 'xxxx', name: '安迪安康', prize: '小黄人24色水彩笔套装'},\n    { id: '1', img: 'xxxx', name: '安迪jack', prize: '小黄人无线蓝牙耳机'},\n    { id: '2', img: 'xxxx', name: '安迪rick', prize: '小黄人联名海报'},\n  ]\n\n  return (\n    <div className='barrage-content'>\n      <div ref={barrageBox} className='barrage-group'>\n        {\n          (mock || []).map(i => (\n            <div key={i.id} className='barrage-item'>\n              <div className='barrage-img'></div>\n              <div className='barrage-body'>\n                恭喜 {i.name} 获得{i.prize}\n              </div>\n            </div>\n          ))\n        }\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport Barrage from '../shake-barrage';\nimport './index.css';\n\ninterface Ishake {\n  time?:number;\n  onChange: Function;\n}\n\n\nexport default ({time = 0, onChange}: Ishake) => {\n  const [loading, setloading] = useState<boolean>(false);\n  const [disabled, setdisabled] = useState<boolean>(false);\n  const [result, setResult] = useState<string>('');\n\n  useEffect(() => {\n    setdisabled(!time);\n  }, [time])\n\n  const _onStart = async () => {\n    if(loading || disabled) return;\n    setloading(true);\n    try {\n      await new Promise((resolve, reject) => {\n        setTimeout(() => {\n          resolve();\n          const random = Math.ceil(Math.random() * 17);\n          setResult(random + '');\n          setTimeout(() => {\n            onChange && onChange(mock[random]);\n            setResult('');\n          }, 1000)\n        }, 1200);\n      })\n    } catch(err) {//\n    }\n    setloading(false)\n  }\n\n  return (\n    <div className='shake-content'>\n      <Barrage />\n      <div className='content-bg' />\n      <div className={`shake-group ${loading ? 'loading' : ''}`} />\n      <div className={`shake-result ${result ? 'show' : ''}`} />\n      <div\n        className={`shake-btn ${loading || disabled ? 'disabled' : ''}`}\n        onClick={_onStart}\n      />\n    </div>\n  )\n}\n\nconst mock = [\n  ,\n  { id: '01', name: '鱼饼888个', tips: '企鹅辅导花样礼品随心兑', type: 1 },\n  { id: '02', name: '鱼饼888个', tips: '企鹅辅导花样礼品随心兑', type: 1 },\n  { id: '03', name: '鱼饼888个', tips: '企鹅辅导花样礼品随心兑', type: 1 },\n  { id: '11', name: '鱼饼2019个', tips: '企鹅辅导花样礼品随心兑', type: 1 },\n  { id: '12', name: '鱼饼2019个', tips: '企鹅辅导花样礼品随心兑', type: 1 },\n  { id: '13', name: '鱼饼2019个', tips: '企鹅辅导花样礼品随心兑', type: 1 },\n  { id: '21', name: '5Q币', tips: 'Q币将发到下方填写的QQ号中', type: 1 },\n  { id: '22', name: '5Q币', tips: 'Q币将发到下方填写的QQ号中', type: 1 },\n  { id: '23', name: '5Q币', tips: 'Q币将发到下方填写的QQ号中', type: 1 },\n  { id: '31', name: '15Q币', tips: 'Q币将发到下方填写的QQ号中', type: 1 },\n  { id: '32', name: '15Q币', tips: 'Q币将发到下方填写的QQ号中', type: 1 },\n  { id: '33', name: '15Q币', tips: 'Q币将发到下方填写的QQ号中', type: 1 },\n  { id: '41', name: '10Q币', tips: 'Q币将发到下方填写的QQ号中', type: 1 },\n  { id: '42', name: '10Q币', tips: 'Q币将发到下方填写的QQ号中', type: 1 },\n  { id: '43', name: '10Q币', tips: 'Q币将发到下方填写的QQ号中', type: 1 },\n  { id: '5', name: '腾讯视频会员（1个月）', tips: '请联系辅导老师或客服获取会员兑换码', type: 2 },\n  { id: '6', name: '怪奇鹅卡通笔（2支）', tips: '多动笔，勤记录，知识点掌握更牢固', type: 2 },\n]\n","import React, { useState, useEffect } from 'react';\nimport { Iprize } from '../index';\n\nimport './index.css';\n\ninterface Imodel {\n  data: Iprize | null;\n  onModelGet: Function;\n}\n\nexport default ({ data, onModelGet }: Imodel) => {\n  const [visibale, setvisibale] = useState<boolean>(false);\n  const {name='', tips} = data || {};\n  useEffect(() => {\n    if(data) {\n      setvisibale(true);\n    }\n  }, [data])\n\n  const hasQQ = name.match('Q币') && 'qq';\n  const hasPencil = name.match('卡通笔') && 'pencil';\n  const type = hasQQ || hasPencil || ''\n\n  return (\n    <div className={`shake-model ${visibale ? 'show' : ''}`}>\n      <div className='model-bg' />\n      <div className='left-start'>\n        <div className='start-1' />\n        <div className='start-2' />\n        <div className='start-3' />\n        <div className='start-4' />\n        <div className='start-5' />\n      </div>\n      <div className='right-start'>\n        <div className='start-1' />\n        <div className='start-2' />\n        <div className='start-3' />\n        <div className='start-4' />\n        <div className='start-5' />\n      </div>\n      <div className='model-body'>\n        <div className='close-btn' onClick={() => setvisibale(false)} />\n        <div className='model-box'>\n          <div className='box-top' />\n          <div className='box-text'>\n            <div className='prize-box'>\n              <div className='prize-name'>{name || '暂无'}</div>\n              <div className='prize-tips'><span className='tip-icon' />{tips || '暂无'}</div>\n            </div>\n          </div>\n          <div className='box-center' />\n          <div className='box-bottom' />\n        </div>\n        {type && (<div onClick={() => onModelGet && onModelGet(type)} className={`prize-get ${type}`} />)}\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react';\n\nimport './index.css'\n\ninterface Ilog {\n  time: number;\n  onAdd: Function;\n  onGet: Function;\n}\n\ninterface Iprize {\n  id: string;\n  time: number;\n  name: string;\n}\n\nexport default ({ time, onAdd, onGet }: Ilog) => {\n  const [prizes, setPrizes] = useState<Iprize[]>([])\n\n  useEffect(() => {\n    const newPrizes: Iprize[] = JSON.parse(localStorage.getItem('__game_prizes__') || '[]');\n    if(newPrizes.length) {\n      setPrizes(newPrizes);\n    }\n  }, [time])\n\n  const _add = () => {\n    onAdd && onAdd();\n  }\n\n  const hasQQ = prizes.some(i => i.name.match('Q币')) ? 1 : 0;\n  const hasPencil = prizes.some(i => i.name.match('卡通笔')) ? 2 : 0;\n  const type = formatType(hasQQ + hasPencil);\n\n  return (\n    <div className='log-content'>\n      <div className='log-time'>\n        <span className='time-num'>{time || 0}</span>\n      </div>\n      <div onClick={_add} className='add-btn'>购买课程获得抽奖机会<span className='add-icon' /></div>\n      <div className='log-prize'>\n        <div className='prize-title' />\n        <div className='prize-nav' />\n        {!(prizes || []).length && (<div className='prize-empty'>暂无中奖记录</div>)}\n        {(prizes || []).map(i => (\n          <div className='prize-item' key={i.id}>\n            <section>{formatTime(i.time)}</section>\n            <section>恭喜你获得</section>\n            <section>{i.name}</section>\n          </div>\n        ))}\n        {type && (<div onClick={() => {\n          onGet && onGet(type)\n        }} className={`log-btn ${type}`} />)}\n      </div>\n      <div className='log-rules'>\n        <div className='rules-header'>\n          <section className='header-title' />\n        </div>\n        <div className='rules-body'>\n          {(rules || []).map((i) =>(\n            <div key={i.index} className='rules-item'>\n              <div className={`rules-index rules-${i.index}`} />\n              <div className='rules-text'>{i.content}</div>\n            </div>\n          ))}\n        </div>\n        <div className='rules-footer' />\n      </div>\n    </div>\n  )\n}\n\nconst rules = [\n  { index: 1, content: '已购买暑假或秋季系统班课的用户，完成后买后可以参与抽奖，中奖率100%。'},\n  { index: 2, content: '抽奖次数由订单数决定， 暑假联报名算两个订单'},\n  { index: 3, content: '如有退款，则对应的抽奖机会与奖品一律无效。'},\n  { index: 4, content: '所有奖品将在4月15日，统一开始发货。'}\n]\n\nconst formatType = (result: number) => {\n  let typeStr;\n  switch(result) {\n    case 1: typeStr = 'qq';break;\n    case 2: typeStr = 'pencil';break;\n    case 3: typeStr = 'all';break;\n    default: typeStr = '';break;\n  }\n  return typeStr;\n}\n\nconst formatTime = (timeNum: number, type?:string) => {\n  if(!timeNum) { return ''; }\n\n  const dateObj = new Date(timeNum);\n  const year = dateObj.getFullYear();\n  let month: string | number = dateObj.getMonth() + 1;\n  month = month > 9 ? month.toString() : `0${month}`\n  let day: string | number = dateObj.getDate();\n  day = day > 9 ? day.toString() : `0${day}`\n  let h: string | number = dateObj.getHours();\n  h = h > 9 ? h.toString() : `0${h}`\n  let m: string | number = dateObj.getMinutes();\n  m = m > 9 ? m.toString() : `0${m}`\n  let s: string | number = dateObj.getSeconds();\n  s = s > 9 ? s.toString() : `0${s}`\n\n  if(!type) { return `${year}/${month}/${day}`; }\n\n  return type\n    .replace('YYYY', year.toString())\n    .replace('MM', month)\n    .replace('DD', day)\n    .replace('hh', h)\n    .replace('mm', m)\n    .replace('ss', s)\n}\n","import React, { useState, useEffect } from 'react';\nimport './index.css';\n\nexport default ({text, delay = 2, onClose}: {text: string, delay?:number, onClose: Function}) => {\n  const [visibale, setVisibale] = useState<boolean>(false);\n\n  useEffect(() => {\n    setVisibale(!!text);\n    // auto close\n    const timer = setTimeout(() => {\n      setVisibale(false);\n      setTimeout(() => {\n        onClose && onClose();\n      }, 1000)\n    }, delay * 1000)\n\n    return () => {\n      timer && clearTimeout(timer);\n    }\n  }, [text])\n\n  return (\n    <div className={`totas-box ${visibale ? 'show' : 'hide'}`}>\n      <div className='totas-text'>{text || ''}</div>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport { ShakeContent, ShakeModel, ShakeLog, ShakeTotas, Iprize } from './components';\nimport './App.css';\n\nfunction App() {\n  const [modelData, setmodelData] = useState<Iprize | null>(null);\n  const [totasText, settotasText] = useState<string>('');\n  const [time, setTime] = useState<number>(0);\n\n  useEffect(() => {\n    const newTime = localStorage.getItem('__game_time__')\n    if(newTime) {\n      setTime(+newTime);\n    }\n  }, [])\n\n  const _reduce = (data: Iprize) => {\n    const { type, name } = data;\n    const newTime = time - 1;\n    const newPrizes = JSON.parse(localStorage.getItem('__game_prizes__') || '[]');\n    setmodelData(Object.create(data));\n    setTime(newTime);\n    newPrizes.push({\n      id: newPrizes.length.toString(),\n      time: Date.now(),\n      type,\n      name\n    })\n    localStorage.setItem('__game_prizes__', JSON.stringify(newPrizes));\n    localStorage.setItem('__game_time__', newTime.toString());\n  }\n  const _add = () => {\n    const newTime = time + 1;\n    if(newTime > 6) {\n      return settotasText('对不起，已经超过上限，无法获得抽奖机会！');\n    }\n    setTime(newTime);\n    settotasText('恭喜您获得抽奖机会！')\n    localStorage.setItem('__game_time__', newTime.toString());\n  }\n\n  const _get = (type:string) => {\n    settotasText(type === 'qq' ? '领取成功' : '填写成功');\n  }\n\n  return (\n    <div className=\"App\">\n      <ShakeContent time={time} onChange={_reduce} />\n      <ShakeLog time={time} onAdd={_add} onGet={_get} />\n      <ShakeModel onModelGet={_get} data={modelData} />\n      <ShakeTotas onClose={() => settotasText('')} text={totasText} />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}